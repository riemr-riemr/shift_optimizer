# Local development profile: connect to DB running in Docker on host

# PostgreSQL (Docker on host, published as 5432)
spring.datasource.url=jdbc:postgresql://localhost:5432/shiftdb
spring.datasource.username=shiftuser
spring.datasource.password=shiftpass
spring.datasource.driver-class-name=org.postgresql.Driver

# Keep same JPA/MyBatis settings as default
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# Thymeleaf
spring.thymeleaf.cache=false

# Server
server.port=8080

# Logging (use DEBUG web for request mapping while debugging)
logging.level.org.springframework.web=DEBUG

# MyBatis
mybatis.mapper-locations=classpath*:mapper/**/*.xml
mybatis.type-aliases-package=io.github.riemr.shift.domain

# グローバルのソルバー実行上限時間（ISO-8601 Duration）
shift.solver.spent-limit=PT10S
# フェーズ別上限
# 月次シフト（ATTENDANCE）: 2分
shift.attendance.spent-limit=PT2M
# 日次作業割当（ASSIGNMENT日次）: 1分
shift.assignment.daily.spent-limit=PT1M

# OptaPlanner詳細ログ（最適化停滞の原因調査用）
logging.level.org.optaplanner.core.impl.solver=INFO
logging.level.org.optaplanner.core.impl.localsearch=DEBUG
logging.level.org.optaplanner.core.impl.heuristic=DEBUG

# カスタム初期解生成ログ
logging.level.io.github.riemr.shift.optimization.phase.AttendanceInitialSolutionBuilder=DEBUG

# ShiftScheduleServiceのスコア記録ログ
logging.level.io.github.riemr.shift.optimization.service.ShiftScheduleService=DEBUG
